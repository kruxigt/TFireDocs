<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>External DataHandler · TFire</title><meta name="title" content="External DataHandler · TFire"/><meta property="og:title" content="External DataHandler · TFire"/><meta property="twitter:title" content="External DataHandler · TFire"/><meta name="description" content="Documentation for TFire."/><meta property="og:description" content="Documentation for TFire."/><meta property="twitter:description" content="Documentation for TFire."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="TFire logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">TFire</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">TFire</a></li><li><a class="tocitem" href="back_testing.html">Back Testing</a></li><li><a class="tocitem" href="collection.html">Collection</a></li><li><a class="tocitem" href="data_views.html">DataViews</a></li><li><a class="tocitem" href="entry.html">Entry</a></li><li class="is-active"><a class="tocitem" href="external_data.html">External DataHandler</a><ul class="internal"><li><a class="tocitem" href="#Basic-Usage"><span>Basic Usage</span></a></li><li><a class="tocitem" href="#Specification-of-Data-to-Fetch"><span>Specification of Data to Fetch</span></a></li><li><a class="tocitem" href="#External-Constituents"><span>External Constituents</span></a></li><li><a class="tocitem" href="#Internet-Data-Sources"><span>Internet Data Sources</span></a></li><li><a class="tocitem" href="#Technicalities"><span>Technicalities</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="internet_source_yahoo_data.html">Yahoo Data</a></li><li><a class="tocitem" href="layers.html">Layers</a></li><li><a class="tocitem" href="settings.html">Settings</a></li><li><a class="tocitem" href="specification.html">Specification</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="external_data.html">External DataHandler</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="external_data.html">External DataHandler</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href title="View the repository"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">Repository</span></a><a class="docs-navbar-link" href="/Users/robinlarsson/Library/Mobile Documents/com~apple~CloudDocs/TFire/.git" title="Edit source"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="External-DataHandler"><a class="docs-heading-anchor" href="#External-DataHandler">External DataHandler</a><a id="External-DataHandler-1"></a><a class="docs-heading-anchor-permalink" href="#External-DataHandler" title="Permalink"></a></h1><p>The External Data Handler is a free-standing submodule that handles loading and saving of raw data (from external sources) for time series analysis.. This includes data from various internet sources as well as local disk storage</p><h2 id="Basic-Usage"><a class="docs-heading-anchor" href="#Basic-Usage">Basic Usage</a><a id="Basic-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Usage" title="Permalink"></a></h2><p>The three primary functions for interacting with external data are: </p><ul><li><code>fetch_external_data_from_disk</code></li><li><code>save_to_disk</code></li><li><code>fetch_external_data_from_internet</code></li></ul><h3 id="Fetching-Data-from-Disk"><a class="docs-heading-anchor" href="#Fetching-Data-from-Disk">Fetching Data from Disk</a><a id="Fetching-Data-from-Disk-1"></a><a class="docs-heading-anchor-permalink" href="#Fetching-Data-from-Disk" title="Permalink"></a></h3><p>To retrieve external data stored on your local system. use: <code>fetch_external_data_from_disk(ext_cons, file_path; clean_and_prepare=true)</code></p><ul><li><code>ext_cons</code>: Specifies which external data constituents to fetch. See <a href="external_data.html#External-Constituents">External Constituents</a></li><li><code>file_path</code>: The location on disk where the data is stored.</li><li><code>clean_and_prepare</code> (optional, default is true): Whether to clean and prepare the data after retrieval.</li></ul><p>This function supports both CSV and JLD2 file formats. When working with a <code>.csv</code> file, it should point to a list of <code>.jld2</code> files. The returned data can optionally be cleaned and prepared for further use.</p><h3 id="Saving-Data-to-Disk"><a class="docs-heading-anchor" href="#Saving-Data-to-Disk">Saving Data to Disk</a><a id="Saving-Data-to-Disk-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Data-to-Disk" title="Permalink"></a></h3><p>You can save processed or fetched data onto your local disk using the <code>save_to_disk(edc, file_name, overwrite=true)</code></p><ul><li><code>edc</code>: An instance of <code>ExternalDataCollection</code> that you intend to save. See <a href="external_data.html#ExternalDataCollection">ExternalDataCollection</a></li><li><code>file_name</code>: The desired name of the file where you wish to save the data. The full path will be designed by the resolution, see <a href="external_data.html#Resolution-and-Directory-Structure">Resolution and Directory Structure</a></li><li><code>overwrite</code> (optional, default is false): Whether to overwrite an existing file with the same name.</li></ul><h3 id="Fetching-Data-from-the-Internet"><a class="docs-heading-anchor" href="#Fetching-Data-from-the-Internet">Fetching Data from the Internet</a><a id="Fetching-Data-from-the-Internet-1"></a><a class="docs-heading-anchor-permalink" href="#Fetching-Data-from-the-Internet" title="Permalink"></a></h3><p>To fetch data directly from online sources, you can use:</p><p><code>fetch_external_data_from_internet(ext_cons, service, data_fields, clean_and_prepare=true, verbose_error=true )</code></p><ul><li><code>ext_cons</code>: Specifies which external data constituents to fetch. See <a href="external_data.html#External-Constituents">External Constituents</a></li><li><code>service</code>: The online service to use (e.g., <code>YahooData</code>). See <a href="external_data.html#Internet-Data-Sources">Internet Data Sources</a></li><li><code>data_fields</code>: Dictates which data fields to download. See <a href="external_data.html#DataFieldsExternal">DataFieldsExternal</a>.</li><li><code>clean_and_prepare</code> (optional, default is true): If set to true, the data will be cleaned and prepared after fetching.</li><li><code>verbose_error</code> (optional, default is true): If true, detailed error messages will be displayed if an error occurs during fetching.</li></ul><h2 id="Specification-of-Data-to-Fetch"><a class="docs-heading-anchor" href="#Specification-of-Data-to-Fetch">Specification of Data to Fetch</a><a id="Specification-of-Data-to-Fetch-1"></a><a class="docs-heading-anchor-permalink" href="#Specification-of-Data-to-Fetch" title="Permalink"></a></h2><p>The External DataHandler uses two concepts to specify which data to fetch. The first one, the <code>Constituents</code> is used to  specify which tickers to fetch data for at which time periods. The resolution of the data is also specified. Further, Data Fields is used to specify what types of data to include.</p><h2 id="External-Constituents"><a class="docs-heading-anchor" href="#External-Constituents">External Constituents</a><a id="External-Constituents-1"></a><a class="docs-heading-anchor-permalink" href="#External-Constituents" title="Permalink"></a></h2><h3 id="ConstituentsContinuousExt"><a class="docs-heading-anchor" href="#ConstituentsContinuousExt">ConstituentsContinuousExt</a><a id="ConstituentsContinuousExt-1"></a><a class="docs-heading-anchor-permalink" href="#ConstituentsContinuousExt" title="Permalink"></a></h3><p>The Continuous External Constituents is used when the data for each ticker is continuous in time. For example daily close data for an asset that is traded daily.</p><ul><li><code>ticker_ranges_external</code>: An ordered dictionary linking tickers to vectors of date-time ranges, indicating time series intervals for each asset.</li><li><code>resolution</code>: Describes the data granularity, e.g., &quot;1d&quot;, &quot;1m&quot;.</li></ul><h3 id="ConstituentsDiscreteExt"><a class="docs-heading-anchor" href="#ConstituentsDiscreteExt">ConstituentsDiscreteExt</a><a id="ConstituentsDiscreteExt-1"></a><a class="docs-heading-anchor-permalink" href="#ConstituentsDiscreteExt" title="Permalink"></a></h3><p>The Discrete  External Constituents is used when the data for each ticker is discrete in time. For example when intraday data is to be fetched fori several days for an asset that is traded only part of the day, like a stock.</p><ul><li><code>dates_external</code>: An ordered dictionary where each date references a <code>ConstituentsContinuousExt</code>, allowing representation of non-continuous data.</li><li><code>resolution</code>: Specifies the data granularity.</li></ul><h3 id="DataFieldsExternal"><a class="docs-heading-anchor" href="#DataFieldsExternal">DataFieldsExternal</a><a id="DataFieldsExternal-1"></a><a class="docs-heading-anchor-permalink" href="#DataFieldsExternal" title="Permalink"></a></h3><p>This struct defines the external data&#39;s fields and the type of information to be fetched. The <code>fields</code> member contains a set of symbols, each representing a  specific data field like :close_price or :volume.</p><h2 id="Internet-Data-Sources"><a class="docs-heading-anchor" href="#Internet-Data-Sources">Internet Data Sources</a><a id="Internet-Data-Sources-1"></a><a class="docs-heading-anchor-permalink" href="#Internet-Data-Sources" title="Permalink"></a></h2><p>External data can be fetched from various internet sources. Available data providers are</p><ul><li><a href="internet_source_yahoo_data.html#Yahoo-Data">Yahoo Data</a></li></ul><h2 id="Technicalities"><a class="docs-heading-anchor" href="#Technicalities">Technicalities</a><a id="Technicalities-1"></a><a class="docs-heading-anchor-permalink" href="#Technicalities" title="Permalink"></a></h2><h3 id="ExternalData"><a class="docs-heading-anchor" href="#ExternalData">ExternalData</a><a id="ExternalData-1"></a><a class="docs-heading-anchor-permalink" href="#ExternalData" title="Permalink"></a></h3><p>A mutable structure that encapsulates the raw data for a given ticker. It contains:</p><ul><li><code>data</code>: A DataFrame holding the actual data.</li><li><code>ticker</code>: Symbol or name identifying the data.</li><li><code>resolution</code>: Describes the granularity of the data.</li><li><code>from</code> and <code>to</code>: Defines the time interval for the data. The actual time series might not include data for the whole period if some is missing/nonexistant.</li></ul><h3 id="ExternalDataCollection"><a class="docs-heading-anchor" href="#ExternalDataCollection">ExternalDataCollection</a><a id="ExternalDataCollection-1"></a><a class="docs-heading-anchor-permalink" href="#ExternalDataCollection" title="Permalink"></a></h3><p>This structure holds a collection of <code>ExternalData</code> structures.</p><h3 id="External-Data-File"><a class="docs-heading-anchor" href="#External-Data-File">External Data File</a><a id="External-Data-File-1"></a><a class="docs-heading-anchor-permalink" href="#External-Data-File" title="Permalink"></a></h3><p>The primary tool/format used to save and retrieve external data is the <code>ExternalDataFile</code>. This struct is designed to consolidate different external data types and provide  a consistent way of accessing them.</p><p>The <code>ExternalDataFile</code> is composed of:</p><ul><li>A specification, which describes the properties of the data (e.g., resolution and file format version).</li><li>Tickers, which associate specific symbols with their corresponding <a href="external_data.html#ExternalData">ExternalData</a>.</li></ul><h3 id="Resolution-and-Directory-Structure"><a class="docs-heading-anchor" href="#Resolution-and-Directory-Structure">Resolution and Directory Structure</a><a id="Resolution-and-Directory-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Resolution-and-Directory-Structure" title="Permalink"></a></h3><p>Data resolution determines where data is stored and accessed. The <code>resolution_to_dir</code> function helps translate resolution to the appropriate directory structure, ensuring consistent organization and easy retrieval. The currentrly supported resolutions are daily (1d) and minute (1m).</p><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="entry.html">« Entry</a><a class="docs-footer-nextpage" href="internet_source_yahoo_data.html">Yahoo Data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 7 November 2023 17:29">Tuesday 7 November 2023</span>. Using Julia version 1.10.0-beta3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
